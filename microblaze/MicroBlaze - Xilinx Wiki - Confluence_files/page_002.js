(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{"+i4l":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,o=n("ERkP"),i=n.n(o),a=n("IGvV"),c=n("3l7J"),u=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=Object(a.a)(u.a)(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,p(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["PureComponent"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:u.a.block}),i.a.createElement("div",{className:u.a.block}))}}]),t}())||r},"1BaG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n("ERkP"));var i=function(e){var t=e.children,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children"]);return o.default.createElement("div",r({},n,{className:"aui-dropdown2 aui-style-default"}),t)};i.displayName="AUIDropdownMenu",t.default=i},"3l7J":function(e,t,n){var r=n("9wH2"),o=n("7l8p");"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},"9wH2":function(e,t,n){(t=e.exports=n("RDo7")(!1)).push([e.i,".BreadcrumbsPlaceholder_block_oHV{height:14px;line-height:24px;width:100px;border-radius:2px;background-color:#eee;display:inline-block;margin-right:10px}",""]),t.locals={block:"BreadcrumbsPlaceholder_block_oHV"}},gn9V:function(e,t,n){(t=e.exports=n("RDo7")(!1)).push([e.i,".ViewPageHeaderComponent_header_1yn{overflow:hidden;padding:25px 0 10px}.ViewPageHeaderComponent_content_3aY{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.ViewPageHeaderComponent_headerSticky_3TZ{overflow:hidden;padding:20px 0 0;background-color:#fff}.ViewPageHeaderComponent_headerSticky_3TZ>.ViewPageHeaderComponent_stickyBorder_1wn{margin:0 -10px;height:25px;border-bottom:1px solid #e9e9e9}.ViewPageHeaderComponent_headerSticky_3TZ.sticky-header{display:block;margin-top:0}.ViewPageHeaderComponent_title_3Ip{font-size:44px;color:#205081}.ViewPageHeaderComponent_breadcrumbs_2Gv{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;margin-left:-4px;padding-right:40px;width:100%}.ViewPageHeaderComponent_navigationContainer_15E{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-negative:0;flex-shrink:0;margin-top:5px}@media print{.ViewPageHeaderComponent_navigationContainer_15E{display:none!important}}",""]),t.locals={header:"ViewPageHeaderComponent_header_1yn",content:"ViewPageHeaderComponent_content_3aY",headerSticky:"ViewPageHeaderComponent_headerSticky_3TZ",stickyBorder:"ViewPageHeaderComponent_stickyBorder_1wn",title:"ViewPageHeaderComponent_title_3Ip",breadcrumbs:"ViewPageHeaderComponent_breadcrumbs_2Gv",navigationContainer:"ViewPageHeaderComponent_navigationContainer_15E"}},itPT:function(e,t,n){var r=n("gn9V"),o=n("7l8p");"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},k1KV:function(e,t,n){"use strict";n.r(t);var r,o,i,a=n("ERkP"),c=n.n(a),u=n("uDfI"),s=(n("aWzz"),n("6DRV")),l=n("Bud6"),d=n("bsva"),p=n("+Prw"),f=n("mc6X"),m=n.n(f),y=n("xBue"),b=n("IGvV"),v=n("sbiO"),g=n("bfgX"),h=n("3nLK"),k=n("tsjR"),w=n("S75A"),O=n("O94r"),_=n.n(O),S=n("Jygk"),E=n.n(S),P=n("M2LZ"),N=n("M6mc"),j=n("ZW7r"),C=n.n(j),I=n("nSLV");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D,H=Object(b.a)(C.a)(r=Object(P.b)(["wr!com.atlassian.confluence.plugins.confluence-page-banner:page-banner-common-resources"])((i=o=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return R(V(V(n=function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?V(e):t}(this,(e=A(t)).call.apply(e,[this].concat(o))))),"state",{grantAccessInitialised:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,a["Component"]),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"componentDidMount",value:function(){this._initGrantAccessCheck(),this._initJiraMetadataCheck()}},{key:"shouldComponentUpdate",value:function(e){return e.webItems!==this.props.webItems}},{key:"componentDidUpdate",value:function(){this._initGrantAccessCheck(),this._initJiraMetadataCheck()}},{key:"_initGrantAccessCheck",value:function(){var e=this,t=this.hasWebItem(I.a.CONTENT_METADATA_PAGE_RESTRICTIONS);!t||t&&this.state.grantAccessInitialised||(this.setState({grantAccessInitialised:!0}),P.a.require("wr!com.atlassian.confluence.plugins.confluence-request-access-plugin:confluence-request-access-plugin-resources").then(function(){try{E.a.require("confluence-request-access-plugin/grant-access").init(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){R(e,t,n[t])})}return e}({},e.props))}catch(e){console.error("Logging caught error while loading confluence-request-access-plugin/grant-access",e)}}))}},{key:"_initJiraMetadataCheck",value:function(){this.hasWebItem(I.a.CONTENT_METADATA_JIRA)&&P.a.require("wr!com.atlassian.confluence.plugins.confluence-jira-metadata:confluence-jira-metadata-resources")}},{key:"hasWebItem",value:function(e){return this.props.webItems.some(function(t){return t.id===e})}},{key:"render",value:function(){var e=this.props,t=e.webItems,n=e.id,r=e.className;return c.a.createElement(N.a,{className:_()(C.a.metadataButtons,r),id:n,webItems:t})}}]),t}(),R(o,"defaultProps",{webItems:[]}),R(o,"displayName","ViewPageMetadataWebItems"),r=i))||r)||r,M=n("JeEl"),K=n("kD2R"),q=n("/XsU"),B=n("uZih"),L=n.n(B),G=n("2sr0"),U=n("r9hL"),z=n("d3tz"),W=n("CKyl");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ee=function(e){return!e.metaKey&&!e.ctrlKey&&0===e.button},te=Object(U.b)(z.a.VIEW_PAGE)(D=Object(G.a)()(D=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Y(Y(n=function(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?Y(e):t}(this,(e=$(t)).call.apply(e,[this].concat(o))))),"handleClick",function(e){var t=n.props,r=t.analytics,o=t.triggerAnalytics,i=t.createAnalyticsEvent,a=t.onClick,c=t.href;r&&o("breadcrumbs.".concat(r.id,".click"),{usingMeta:Object(W.a)(e),spaceKey:r.spaceKey}),i({type:"sendUIEvent",data:{action:"clicked",actionSubject:"breadcrumb",source:"containerNavigation",attributes:{navVersion:"1"}}}).fire(),a&&ee(e)&&(e.preventDefault(),a(c))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,a["Component"]),function(e,t,n){t&&Q(e.prototype,t),n&&Q(e,n)}(t,[{key:"render",value:function(){var e=L()(this.props,["onClick","analytics","triggerAnalytics","createAnalyticsEvent"]);return c.a.createElement(q.a,Z({},e,{onClick:this.handleClick}))}}]),t}())||D)||D;function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(this,ie(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,a["Component"]),function(e,t,n){t&&re(e.prototype,t),n&&re(e,n)}(t,[{key:"buildContentPath",value:function(e){var t=this.props.spaceKey;return Object(v.k)(t,e.id,e.type,e.createdDate,e.slug)}},{key:"render",value:function(){var e=this,t=this.props,n=t.ancestors,r=t.contentTitle,o=t.onClick,i=t.spaceKey,a=t.spaceHomepageId,u=t.spaceName;return c.a.createElement(q.b,{maxItems:3},c.a.createElement(te,{text:u,href:Object(v.z)(i),analytics:{id:"home",spaceKey:i},onClick:o}),function(e,t){return e?e.length?e[0].id!==t&&e[e.length-1].id===t?e.reverse().slice(1):e[0].id===t?e.slice(1):e:e:[]}(n,a).map(function(t){return c.a.createElement(te,{key:t.id,text:t.title,href:e.buildContentPath(t),analytics:{id:"ancestor",spaceKey:i},onClick:o})}),r?c.a.createElement(te,{text:r,href:""}):null)}}]),t}();ce.displayName="BreadcrumbsComponent";var ue=n("+i4l");function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Breadcrumbs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"spaceKey"},value:{kind:"Variable",name:{kind:"Name",value:"spaceKey"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"homepage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdDate"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:362,source:{body:"query Breadcrumbs($spaceKey: String, $contentId: ID) {\n  spaces(spaceKey: $spaceKey, first: 10) {\n    nodes {\n      id\n      name\n      homepage {\n        id\n      }\n    }\n  }\n  content(id: $contentId) {\n    nodes {\n      id\n      type\n      ancestors {\n        id\n        type\n        title\n        history {\n          createdDate\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ye=Object(u.connect)(null,function(e){return{onClick:function(t){return e(Object(K.push)(t))}}})(ce),be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),de(this,pe(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,a["Component"]),function(e,t,n){t&&le(e.prototype,t),n&&le(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.spaceKey,r=t.contentId;return n&&r?c.a.createElement(s.Query,{query:me,variables:{spaceKey:n,contentId:r}},function(t){var o=t.data,i=t.loading,a=t.error;if(i)return c.a.createElement(ue.a,null);if(a)return null;if(o.content&&o.content.nodes&&o.content.nodes[0]&&o.spaces&&o.spaces.nodes&&o.spaces.nodes[0]){var u=e.props.contentTitle,s=o.spaces.nodes[0],l=o.content.nodes[0],d=l.ancestors?l.ancestors.map(function(e){return{id:e.id,type:e.type,title:e.title,slug:Object(v.l)(e.title),createdDate:e.history.createdDate}}):[];return c.a.createElement(ye,{spaceKey:n,contentId:r,contentTitle:u,spaceName:s.name,spaceHomepageId:s.homepage?s.homepage.id:null,contentType:l.type,ancestors:d})}return null}):null}}]),t}();be.displayName="BreadcrumbsGraphql";var ve,ge,he,ke=be,we=n("6lDt"),Oe=n("r+Ch"),_e=n("itPT"),Se=n.n(_e),Ee=n("s6Th");function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={verticalAlign:"top",display:"inline-block"},Ae=Object(b.a)(Se.a)((he=ge=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Te(Ie(Ie(n=function(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?Ie(e):t}(this,(e=je(t)).call.apply(e,[this].concat(o))))),"navigateToEditPage",function(e){var t=n.props,r=t.getEditorContent,o=t.isRequestingEditorContent,i=t.contentId,a=t.contentType;if(e.preventDefault(),!o){var c="confluence.".concat(a,".edit.collaborative.quick-view");Oe.a.start({key:c,isInitial:!1}),Object(g.a)("rte-collab-ready",function(){Oe.a.end({key:"".concat(c)})}),r(i)}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,a["Component"]),function(e,t,n){t&&Ne(e.prototype,t),n&&Ne(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mode,r=t.spaceKey,o=t.contentId,i=t.contentType,a=t.contentTitle,u=t.isRequestingEditorContent,s=t.isFabricEditorEnabled,l=t.isEditEnabled,d=t.isSticky,p=t.className,f=t.style,b=t.versionOverride,g="blogpost"===i;switch(n){case"loading":return c.a.createElement(Ee.a,null);case"active":return c.a.createElement("header",{className:"".concat(d?Se.a.headerSticky:Se.a.header," ").concat(p),style:f},c.a.createElement("div",{className:Se.a.content},c.a.createElement("div",{className:Se.a.breadcrumbs,"data-test-id":"breadcrumb"},c.a.createElement(ke,{spaceKey:r,contentId:o,contentTitle:d?a:null}),c.a.createElement(h.a,{tagName:"span",contentId:o,location:we.a.SYSTEM_CONTENT_METADATA,version:b,waitForSuperbatch:!0},function(e){var t=e.webItems;return c.a.createElement(H,{pageId:o,webItems:t,className:Se.a.breadcrumbsWebItems,id:"system-content-items"})}),c.a.createElement(h.a,{tagName:"span",location:we.a.PAGE_METADATA_BANNER,waitForSuperbatch:!0,contentId:o,version:b},function(e){var t=e.webItems;return c.a.createElement(H,{webItems:t,className:Se.a.breadcrumbsWebItems,id:"page-metadata-banner-items"})}),c.a.createElement(k.a,{contentId:o,location:we.a.ATL_PAGE_METADATA,style:xe})),c.a.createElement("div",{className:"".concat(Se.a.navigationContainer," content-navigation view"),style:{minHeight:31}},s&&l?c.a.createElement(y.a,{to:"".concat(v.b,"/spaces/").concat(r,"/").concat(g?"blog":"pages","/edit-v2/").concat(o)},c.a.createElement("span",{"data-test-id":"fabric-edit-button",id:"editPageLink",className:"edit full-load aui-button-subtle aui-button"},c.a.createElement(m.a,{icon:"edit-small"}))):null,c.a.createElement(h.a,{tagName:"span",location:we.a.PAGE_BUTTONS,waitForSuperbatch:!0,contentId:o,version:b},function(t){var n=t.webItems;return c.a.createElement(w.a,{actions:{"edit-page":e.navigateToEditPage,"edit-blogpost":e.navigateToEditPage},modifications:{"edit-page":{spinner:u},"edit-blogpost":{spinner:u}},webItems:n,buttonType:"aui-button-subtle"})}),c.a.createElement(h.a,{tagName:"span",location:we.a.TOOLS_MENU_CONTAINER,hasMultipleSections:!0,contentId:o,version:b},function(e){var t=e.webItems,n=e.webSections;return c.a.createElement(M.a,{webItems:t,webSections:n})}))),c.a.createElement("div",{className:Se.a.stickyBorder}));case"error":default:return null}}}]),t}(),Te(ge,"defaultProps",{mode:"active",className:"",isSticky:!0}),ve=he))||ve;function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPageHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"operations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"operation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"properties"},arguments:[{kind:"Argument",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"editor",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frontend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fabricEditorSupported"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:389,source:{body:'query ViewPageHeaderQuery($contentId: ID) {\n  content(id: $contentId) {\n    nodes {\n      id\n      type\n      title\n      operations {\n        operation\n        targetType\n      }\n      properties(key: "editor") {\n        nodes {\n          id\n          key\n          value\n        }\n      }\n      metadata {\n        frontend {\n          fabricEditorSupported\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}}}},qe=Object(p.a)();var Be=Object(u.connect)(function(e,t){var n=t.contentId,r=t.versionOverride;return{isRequestingEditorContent:qe(e,{contentId:n}).isRequesting,isFabricEditorEnabled:t.contentCanUseFabricEditor,isEditEnabled:t.userCanUpdateContent,versionOverride:r}},function(e){return{getEditorContent:function(t){return e(Object(l.k)({contentId:t}))}}})(Ae),Le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,He(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,a["Component"]),function(e,t,n){t&&Re(e.prototype,t),n&&Re(e,n)}(t,[{key:"renderLoading",value:function(){return c.a.createElement(Be,{mode:"loading"})}},{key:"renderActive",value:function(e){return c.a.createElement(Be,Ve({mode:"active"},e))}},{key:"renderError",value:function(){return c.a.createElement(Be,{mode:"error"})}},{key:"contentMetadataShowsFabricEditorSupported",value:function(e){return e&&e.frontend&&e.frontend.fabricEditorSupported}},{key:"contentPropertiesHasFabricEditorProperty",value:function(e){return!(!e||!e.length)&&Boolean(e.filter(function(e){return"editor"===e.key&&'"v2"'===e.value}).length)}},{key:"contentOperationsHasUpdateOperation",value:function(e,t){return!(!e||!e.length)&&Boolean(e.filter(function(e){return e.targetType===t&&"update"===e.operation}).length)}},{key:"render",value:function(){var e=this;switch(this.props.mode){case"loading":return this.renderLoading();case"active":var t=this.props,n=t.spaceKey,r=t.contentId,o=t.className,i=t.style,a=t.isSticky,u=t.versionOverride,l=t.shouldRefreshContent;return n&&r?c.a.createElement(d.f,null,c.a.createElement(s.Query,{query:Ke,variables:{contentId:r}},function(t){var r=t.data,c=t.loading,s=t.error,d=t.refetch;if(s)return e.renderError();if(c)return e.renderLoading();if(l&&d(),r&&r.content&&r.content.nodes&&r.content.nodes[0]){var p=r&&r.content&&r.content.nodes&&r.content.nodes[0],f={spaceKey:n,className:o,style:i,isSticky:a,versionOverride:u,contentId:p.id,contentTitle:p.title,contentType:p.type,userCanUpdateContent:e.contentOperationsHasUpdateOperation(p.operations,p.type),contentCanUseFabricEditor:e.contentMetadataShowsFabricEditorSupported(p.metadata)||p.properties&&e.contentPropertiesHasFabricEditorProperty(p.properties.nodes)};return e.renderActive(f)}return e.renderError()})):this.renderError();case"error":return this.renderError()}}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Le,"defaultProps",{mode:"active"}),Le.displayName="ViewPageHeader";t.default=Le},mc6X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("ERkP")),o=a(n("aWzz")),i=a(n("O94r"));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=void 0,n=void 0,o=e.className,a=e.icon,c=e.size,u=e.style,s=e.useIconFont,l=e.customIcon,d=e.onClick,p=e.onMouseEnter,f=e.onMouseLeave,m=e.children;return a&&(t=s?"aui-iconfont-"+a:"aui-icon-"+a),o=(0,i.default)("aui-icon","aui-icon-"+c,t,o),n=u||{},l&&(n.backgroundImage="url("+l+")"),r.default.createElement("span",{className:o,style:n,onClick:d,onMouseEnter:p,onMouseLeave:f},m)};c.displayName="AUIIcon",c.defaultProps={useIconFont:!0,size:"small"},c.propTypes={children:o.default.oneOfType([o.default.node,o.default.string]),style:o.default.object,size:o.default.oneOf(["small","medium","large"]),icon:o.default.string,customIcon:o.default.string,className:o.default.string,useIconFont:o.default.bool,onClick:o.default.func,onMouseEnter:o.default.func,onMouseLeave:o.default.func},t.default=c},xBue:function(e,t,n){"use strict";var r=n("ERkP"),o=n.n(r),i=n("aWzz"),a=n.n(i),c=n("I9iR"),u=n.n(c),s=n("W47X"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!p(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,a="string"==typeof t?Object(s.a)(t,null,null,i.location):t,c=i.createHref(a);return o.a.createElement("a",l({},r,{onClick:this.handleClick,href:c,ref:n}))},t}(o.a.Component);f.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},t.a=f}}]);
//# sourceMappingURL=page.header.45e90dc539215f466fcf-v35.js.map