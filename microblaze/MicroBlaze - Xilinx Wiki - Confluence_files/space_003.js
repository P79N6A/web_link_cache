(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{Y6Zv:function(e,t,n){"use strict";var o,r=n("Jygk"),i=n.n(r),a=n("aWzz"),c=n.n(a),u=n("ERkP"),s=n.n(u),f=n("tsjR"),l=n("6lDt"),p=n("z6J1"),y=n("M2LZ"),h=n("jqY8"),b=n("lZ+S");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=Object(y.b)(b.a.CONFLUENCE_PREVIEWER)(o=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}(this,(e=v(t)).call.apply(e,[this].concat(r)))).state={fileViewer:null},n.receiveMessages=n.receiveMessages.bind(w(w(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,u["Component"]),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"componentDidMount",value:function(){Object(h.a)("message",this.receiveMessages)}},{key:"componentWillUnmount",value:function(){Object(h.l)("message",this.receiveMessages)}},{key:"_getPreviewerInstance",value:function(e,t){var n=this;return this.instancePromise=this.instancePromise||new Promise(function(o,r){try{var i=n._createPreviewerInstance(e,t);n.setState({fileViewer:i},function(){o(i)})}catch(e){r(e)}}),this.instancePromise}},{key:"_getPreviewLoader",value:function(){return Object(h.d)("cp/confluence/file-preview-loader")}},{key:"_createPreviewerInstance",value:function(e,t){return this._getPreviewLoader().setupPreviewerForFallbackMode(e,t)}},{key:"_isSafe",value:function(e){var t=e.data,n=t.bridgeId,o=t.type;return("openPreviewOnParent"===o||"autoShowAnnotationsOnParent"===o)&&(e.origin===Object(h.h)()&&this.props.bridgeId===n)}},{key:"_maybeShowAnnotations",value:function(e,t){this.state.shouldShowAnnotations&&t&&(e.autoShowAnnotationsPanel(t),this.setState({shouldShowAnnotations:!1}))}},{key:"receiveMessages",value:function(e){var t=this,n=e.data.type;if(this._isSafe(e)){var o=this._getPreviewLoader();if("openPreviewOnParent"!==n||"function"!=typeof o.setupPreviewerForSPA){if("openPreviewOnParent"===n){var r=e.data,i=r.files,a=r.viewMode,c=r.fileQuery,u=r.analyticsSource;this._getPreviewerInstance(i,a).then(function(e){e.open(c,u),t._maybeShowAnnotations(o,e)})}if("autoShowAnnotationsOnParent"===n){var s=this.state.fileViewer;this.setState({shouldShowAnnotations:!0},function(){return t._maybeShowAnnotations(o,s)})}}else{var f=e.data,l=f.files,p=f.viewMode,y=f.fileQuery;if(!y)return;o.setupPreviewerForSPA(y,l,p)}}}},{key:"render",value:function(){return null}}]),t}())||o;function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}O.displayName="SupportConfluencePreview";var E,I,C,A=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?S(e):t}(this,j(t).call(this)))._receiveMessages=e._receiveMessages.bind(S(S(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,u["Component"]),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"componentDidMount",value:function(){Object(h.a)("message",this._receiveMessages)}},{key:"componentWillUnmount",value:function(){Object(h.l)("message",this._receiveMessages)}},{key:"_getResolvedDialogDiscoveryView",value:function(){return Object(h.d)("confluence/ic/view/resolved-dialog-discovery")}},{key:"_isSafe",value:function(e){var t=e.data,n=t.bridgeId;return"ic:showResolvedCommentDiscoveryDialog"===t.type&&(e.origin===Object(h.h)()&&this.props.bridgeId===n)}},{key:"_receiveMessages",value:function(e){var t=e.data.type;if(this._isSafe(e)&&"ic:showResolvedCommentDiscoveryDialog"===t){var n=this._getResolvedDialogDiscoveryView();if(n)(new n).show()}}},{key:"render",value:function(){return null}}]),t}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}A.displayName="SupportInlineComments",A.displayName="SupportInlineComments";var F="fallback-mode-fake-addon-key",U="fallback-mode-fake-key",D=Object(y.b)(b.a.CONNECT)((C=I=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return T(N(N(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?N(e):t}(this,(e=R(t)).call.apply(e,[this].concat(r))))),"_constructIframeWithDefer",function(e){n.connectContainer&&i.a.setTimeout(function(){return n._constructIframe(e)},5)}),T(N(N(n)),"_constructIframe",function(e){if(i.a._AP&&i.a.connectHost&&n.connectContainer){var t=e.src,o=e.style,r=e.iframeAttributes,a=e.classNames,c=e.onIframeLoad,u=e.hash,s=Object(p.a)(i.a,i.a.document),f=s.contextPath,l=s.remoteUser,y=s.remoteUserKey,h=s.userLocale,b=i.a.location.origin,d=b.endsWith("/")?b:"".concat(b,"/"),m=t.startsWith("/")?t.substring(1):t,v={addon_key:F,uniqueKey:"".concat(U,"__").concat(Math.random().toString().substring(2)),key:U,cp:f,uid:l,ukey:y,user_id:l,url:"".concat(d).concat(m),origin:d,hostOrigin:d},g={user_key:y,user_id:l,xdm_e:decodeURIComponent(d),xsm_c:v.uniqueKey,cp:decodeURIComponent(f),cv:"0.0.0-fallback-mode",lic:"none",loc:h,jwt:""};v.url=v.url+(v.url.indexOf("?")>0?"&":"?")+n._createURLParams(g)+(u||"");var w=i.a._AP._convertConnectOptions(v);w.options.autoresize=!1,w.options.width="100%";var O=i.a.connectHost.create(w),_=O.length?O[0]:O;n.connectContainer.innerHTML="",n.connectContainer.appendChild(_);var P=n.connectContainer.getElementsByTagName("iframe");P&&P.length&&(n.iframe=P[0],Object.keys(r).forEach(function(e){return n.iframe.setAttribute(e,r[e])}),a.forEach(function(e){return e&&n.iframe.classList.add(e)}),Object.keys(o).forEach(function(e){return n.iframe.style[e]=o[e]}),"function"==typeof c&&n.iframe.contentWindow&&n.iframe.contentWindow.addEventListener("DOMContentLoaded",c,!0))}}),T(N(N(n)),"_setConnectContainer",function(e){n.connectContainer=e}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,u["Component"]),function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(t,[{key:"componentDidMount",value:function(){this._constructIframeWithDefer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.height;this.iframe&&t!==e.height&&(this.iframe.style.height=e.height),this.props.src!==e.src&&this._constructIframeWithDefer(e)}},{key:"_createURLParams",value:function(e){return Object.keys(e).map(function(t){var n=e[t];return n?"".concat(t,"=").concat(n):""}).filter(function(e){return!!e}).join("&")}},{key:"render",value:function(){return s.a.createElement("div",{ref:this._setConnectContainer})}}]),t}(),T(I,"defaultProps",{iframeAttributes:{},classNames:[],style:{},hash:""}),T(I,"displayName","FakeConnectIframe"),E=C))||E;function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return H});var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,V(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,u["Component"]),function(e,t,n){t&&z(e.prototype,t),n&&z(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.onLoad,o=e.height,r=e.supportConfluencePreviewer,a=e.usePlainIframe,c=e.hash,u=this.context.bridgeId,y={"data-bridge-id":u,"data-is-fallback-mode-iframe":!0},h={border:0,width:"100%",height:o,display:"block"},b=Object(p.a)(i.a,i.a.document).contentType;return s.a.createElement(s.a.Fragment,null,a?s.a.createElement("iframe",q({name:"fallback-mode-iframe",src:"".concat(t).concat(c),style:h,onLoad:n,id:"content"},y)):s.a.createElement(D,{src:t,hash:c,height:o,style:h,onIframeLoad:n,classNames:[b,"view"],iframeAttributes:y}),s.a.createElement(f.a,{location:l.a.ATL_PAGE_CONTENT_FOOTER_ACTIONS},function(e){var t=e.panel;return t?s.a.createElement(A,{key:t.completeKey,bridgeId:u}):null}),r?s.a.createElement(O,{bridgeId:u}):null)}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(H,"defaultProps",{hash:""}),H.displayName="FallbackModeIframe",H.displayName="FallbackModeIframe",H.defaultProps={supportConfluencePreviewer:!1},H.contextTypes={bridgeId:c.a.string.isRequired}},lVx4:function(e,t,n){"use strict";var o=n("aWzz"),r=n.n(o),i=n("ERkP"),a=n.n(i),c=n("jqY8");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.a=function(e){var t=function(t){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}(this,l(n).call(this))).state={height:"500px",bridgeId:"".concat(Date.now())},e.receiveMessage=e.receiveMessage.bind(y(y(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,i.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(n,[{key:"getChildContext",value:function(){return{bridgeId:this.state.bridgeId}}},{key:"componentDidMount",value:function(){Object(c.a)("message",this.receiveMessage)}},{key:"componentWillUnmount",value:function(){Object(c.l)("message",this.receiveMessage)}},{key:"UNSAFE_componentWillMount",value:function(){this.props.height&&this.setState({height:this.props.height})}},{key:"receiveMessage",value:function(e){var t=e.data,n=t.type,o=t.height,r=t.nextLocation,i=t.bridgeId,a=t.anchor;e.origin===Object(c.h)()&&this.state.bridgeId===i&&(this.props.onNavigate&&"postNextIframeLocation"===n&&this.props.onNavigate(r,e),this.props.keepItInSync&&"postUpdateIframeLocation"===n&&this.props.keepItInSync(r,e),"postUpdateIframeAnchor"===n&&a&&(window.location.hash=a),"postIframeSize"!==n||this.props.skipHeightListener||this.setState({height:"".concat(o,"px")}),this.props.onContentLoaded&&"iframeDOMContentLoaded"===n&&this.props.onContentLoaded())}},{key:"render",value:function(){var t=this.state.height;return a.a.createElement(e,s({},this.props,{height:t}))}}]),n}();return t.displayName="FallbackModeMessageBridge",t.displayName="FallbackModeMessageBridge",t.defaultProps={skipHeightListener:!1},t.childContextTypes={bridgeId:r.a.string.isRequired},t}},"z/oC":function(e,t,n){"use strict";n.d(t,"a",function(){return h});n("aWzz");var o,r=n("ERkP"),i=n("bfgX"),a=n("M2LZ"),c=n("jqY8"),u=n("lZ+S");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=Object(a.b)(u.a.CONFLUENCE_PREVIEWER)(o=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}(this,(e=l(t)).call.apply(e,[this].concat(r)))).handlePopstate=n.handlePopstate.bind(y(y(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"componentDidMount",value:function(){this.reInitialisePreviewer(),Object(c.a)("popstate",this.handlePopstate)}},{key:"shouldComponentUpdate",value:function(e){return e.query!==this.props.query}},{key:"componentDidUpdate",value:function(){this.reInitialisePreviewer()}},{key:"componentWillUnmount",value:function(){this.resetFilesList(),Object(c.l)("popstate",this.handlePopstate)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contentId!==this.props.contentId&&this.resetFilesList()}},{key:"handlePopstate",value:function(){this.reInitialisePreviewer()}},{key:"resetFilesList",value:function(){Object(i.b)("reset-file-list.filePreviews")}},{key:"reInitialisePreviewer",value:function(){var e=Object(c.d)("cp/confluence/file-preview-loader");e&&"function"==typeof e.setupPreviewerForSPA&&e.setupPreviewerForSPA()}},{key:"render",value:function(){return null}}]),t}())||o;h.displayName="ConfluencePreview"},z6J1:function(e,t,n){"use strict";var o={};function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){var n=e.getElementsByName(t)[0];return n&&n.getAttribute("content")||""}t.a=function(e,t){var n=e.location.href,a="true"===i(t,"ajs-iframe-allowed-for-spa")||!1,c=void 0!==e.__SKIP_FALLBACK_MODE__&&e.__SKIP_FALLBACK_MODE__||function(e){return Object.keys(o).filter(function(t){return-1!==e.indexOf(o[t])}).length>0}(n),u=i(t,"confluence-space-key"),s="/display/".concat(u);return{spaceKey:u,isIframeAllowed:a,isSpaceQuestions:u&&n.indexOf("".concat(s,"/question"))>-1||!1,isCQActionAndWillReturn:n.indexOf("/cq/")>-1&&n.indexOf(".action")>-1||!1,isWhitelisted:c,isViewPageContentOnly:n.indexOf("/content-only/")>-1,isFallbackModeIframe:function(e){if(e.top===e.self)return!1;var t=e.frameElement&&e.frameElement.getAttribute("data-is-fallback-mode-iframe");return!(!t||"true"!==t)}(e),bridgeId:function(e){return e.frameElement&&e.frameElement.getAttribute("data-bridge-id")}(e),isSpaceOverview:n.indexOf("isSpaceOverview=true")>0,isOverflowAllowed:-1!==decodeURIComponent(function(e){return e.location&&e.location.search?e.location.search.substr(1).split("&").reduce(function(e,t){var n=r(t.split("="),2),o=n[0],i=n[1];return e[o]=decodeURIComponent(i),e},{}):{}}(e).addonUrl||n).indexOf("/customcontent/"),contextPath:i(t,"confluence-context-path"),remoteUser:i(t,"ajs-remote-user"),remoteUserKey:i(t,"ajs-remote-user-key"),userLocale:i(t,"user-locale"),darkFeatures:(i(t,"ajs-enabled-dark-features")||"").split(","),contentType:i(t,"ajs-content-type")||"",pageId:i(t,"ajs-page-id")}}}}]);
//# sourceMappingURL=space.overview~space.questions~space.viewpage.c3ba6cb81b1db038042c-v35.js.map