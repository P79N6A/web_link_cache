(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{V56w:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n("Jygk"),r=n.n(o),c=n("ilPL"),l=n("jEko"),a=n("fLXQ");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.j.configure(Object(l.d)());var s=function(e){return{type:"WEBRESOURCE_LOADING",options:{key:e}}},f=function(e){return{type:"WEBRESOURCE_LOADED",options:{key:e}}};var p=!1,b=function(e){return function(e){!1===p&&(p=!0,c.j.resourceList({},function(t,n){e({type:"WEBRESOURCE_LIST_SUCCESS",response:n}),function(e,t){e(s("_super"));var n=r.a.document.createDocumentFragment();t.forEach(function(e){switch(e.type){case"js":n.appendChild(Object(a.c)(u({src:e.url},e.attributes)));break;case"css":null===r.a.document.querySelector("link[data-wrm-key='".concat(e.attributes["data-wrm-key"],"']"))&&n.appendChild(Object(a.b)(u({href:e.url},e.attributes)))}});var o=n.querySelectorAll("script"),c=o?o[o.length-1]:null;c&&(c.onload=function(){e(f("_super"))}),r.a.document.head.appendChild(n)}(e,n.resourceList)}))}}},kSEI:function(e,t,n){"use strict";var o=n("uDfI"),r=n("2BEd"),c=n("V56w"),l=n("ERkP"),a=(n("aWzz"),n("nnRT")),u=n.n(a),i=n("M2LZ"),s=n("jqY8"),f=n("lZ+S");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},c=Object.keys(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(){},v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}(this,h(t).call(this,e)))._closeFlag=n._closeFlag.bind(O(O(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,l["Component"]),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"componentDidMount",value:function(){this._createFlag(this.props),!0!==this.props.isSuperbatchLoaded&&this.props.loadSuperbatch({reason:"Need WRM.require and globalRequire to load legacy confluence/flag, which depend on the superbatch. Later, we may consider replacing confluence/flag with atlaskit flags."})}},{key:"shouldComponentUpdate",value:function(e){return!u()(this.props,e)}},{key:"componentWillUnmount",value:function(){this._closeFlag()}},{key:"UNSAFE_componentWillUpdate",value:function(e){this._createFlag(e,!0)}},{key:"_closeFlag",value:function(e,t){this.flagEl&&(this.flagEl.removeEventListener("aui-flag-close",this._closeFlag),this.flagEl.close(),this.props.onClose(t),this.flagEl=void 0)}},{key:"_createFlag",value:function(e,t){var n=this,o=e.isShowing,r=e.isSuperbatchLoaded,c=e.type,l=e.title,a=e.body,u=e.close,p=e.extraClasses,d=y(e,["isShowing","isSuperbatchLoaded","type","title","body","close","extraClasses"]);return o&&r?(i.a.require(f.a.FLAGS,function(){var e=Object(s.d)("confluence/flag");n.flagEl&&n._closeFlag(null,t);try{n.flagEl=e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){b(e,t,n[t])})}return e}({type:c,title:l,body:a,close:u,extraClasses:p},d)),n.flagEl.addEventListener("aui-flag-close",n._closeFlag),n.props.onShow(n.flagEl)}catch(e){console.error(e)}}),null):null}},{key:"render",value:function(){return null}}]),t}();v.displayName="Flag",v.displayName="Flag",v.defaultProps={onShow:m,onClose:m};t.a=Object(o.connect)(function(e){return{isSuperbatchLoaded:Object(r.a)(e)}},function(e){return{loadSuperbatch:function(t){var n=t.reason;e(Object(c.a)({reason:n}))}}})(v)}}]);
//# sourceMappingURL=fabric.editor.flags~root.fbbc4d1a7da893f92ae5-v35.js.map