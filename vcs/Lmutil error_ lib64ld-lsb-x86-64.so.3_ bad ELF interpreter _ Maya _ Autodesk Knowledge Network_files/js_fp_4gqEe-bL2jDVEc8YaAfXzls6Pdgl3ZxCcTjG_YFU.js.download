/*! AKPVideoPlayer - v1.0.3 - 2018-01-18 */

!function(e,t){e.OO={Player:{create:function(e,t){var r=AKPVideoPlayerHelper.dom.createVideoTag(AKPVideoPlayerHelper.VIDEOS_BASE_PATH+t),i=document.getElementById(e);r.setAttribute("data-video-id",t),i.appendChild(r)}},ready:function(e){e()}},e.AKPVideoPlayerHelper={LANGUAGE_NAMES:{"zh-cn":"ç®€ä½“ä¸­æ–‡","zh-tw":"ç¹é«”ä¸­æ–‡","zh-hans":"ç®€ä½“ä¸­æ–‡","zh-hant":"ç¹é«”ä¸­æ–‡",cs:"ÄŒeÅ¡tina",de:"Deutsch",en:"English","en-us":"English","en-gb":"English",es:"EspaÃ±ol",fr:"FranÃ§ais",hu:"Magyar",it:"Italiano",ja:"æ—¥æœ¬èªž",ko:"í•œêµ­ì–´",nl:"Nederlands",pl:"Polski",pt:"PortuguÃªs","pt-pt":"PortuguÃªs","pt-br":"PortuguÃªs (Brasil)",ro:"RomÃ¢nÄƒ",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹",sv:"Svenska",tr:"TÃ¼rkÃ§e"},VIDEOS_BASE_PATH:"https://help.autodesk.com/videos/",PLAYER_VERSION:"v1",util:{isEmbeddedHelp:function(){return!!(-1!==navigator.userAgent.indexOf("AutodeskClient/2.")||window.exec&&"function"==typeof window.exec&&window.registerCallback)},getChromeVersion:function(){return parseInt(navigator.userAgent.match(/Chrome\/(\d+)\.\d+\.\d+\.\d+/)[1],10)},getScript:function(e){var r=t.Deferred(),i=document.querySelector("head"),n=document.createElement("script");return"addEventListener"in n&&(n.addEventListener("load",r.resolve,!1),n.addEventListener("error",r.resolve,!1)),"onload"in n&&(n.onload=r.resolve,n.onerror=r.resolve),n.setAttribute("src",e),i.appendChild(n),r.promise()},getCSS:function(e){var r=t.Deferred(),i=document.querySelector("head"),n=document.createElement("link");return"addEventListener"in n&&(n.addEventListener("load",r.resolve,!1),n.addEventListener("error",r.resolve,!1)),"onload"in n&&(n.onload=r.resolve,n.onerror=r.resolve),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),i.appendChild(n),r.promise()},loadPlayerPlugin:function(){return!!window.videojsalt||(AKPVideoPlayerHelper._PLUGIN_LOADED||(AKPVideoPlayerHelper._PLUGIN_LOADED=t.when(AKPVideoPlayerHelper.util.getScript(AKPVideoPlayerHelper.VIDEOS_BASE_PATH+"plugin/"+AKPVideoPlayerHelper.PLAYER_VERSION+"/video-alt.min.js"),AKPVideoPlayerHelper.util.getCSS(AKPVideoPlayerHelper.VIDEOS_BASE_PATH+"plugin/"+AKPVideoPlayerHelper.PLAYER_VERSION+"/video-jsalt.css"))),AKPVideoPlayerHelper._PLUGIN_LOADED)}},dom:{createVideoTag:function(e){var r=document.createElement("video");return r.__promisedEvents={},["loadedmetadata","canplay","canplaythrough"].forEach(function(e){r.__promisedEvents[e]=t.Deferred(),r.addEventListener(e,function(t){r.__promisedEvents[e].resolve(t)},!1)}),r.setAttribute("controls",""),r.setAttribute("crossorigin","anonymous"),r.setAttribute("poster",e+"/poster"),AKPVideoPlayerHelper.dom.addVideoSource(r,"video/webm",e+"/video.webm"),AKPVideoPlayerHelper.dom.addVideoSource(r,"video/mp4",e+"/video.mp4"),r},addVideoSource:function(e,r,i){var n=document.createElement("source");n.__promisedError=t.Deferred(),n.addEventListener("error",function(){n.__promisedError.resolve()},!1),n.setAttribute("type",r),n.setAttribute("src",i),e.appendChild(n)},addTextTrack:function(e,t,r){var i=document.createElement("track");i.setAttribute("kind","captions"),i.setAttribute("label",AKPVideoPlayerHelper.LANGUAGE_NAMES[t.toLowerCase()]||t),i.setAttribute("srclang",t),i.setAttribute("src",r),e.appendChild(i)}},init:function(e,r){var i=e.getAttribute("data-video-id"),n=document.createElement("div");return e.parentNode&&e.parentNode!==n&&!n.parentNode&&e.parentNode.replaceChild(n,e),e.setAttribute("class",(e.getAttribute("class")||"")+" video-jsalt vjsalt-big-play-centered"),r||(r={}),AKPVideoPlayerHelper.initHTML5Video(n,e,i).then(function(e){var n={started:!1,ended:!1,paused:!1,progress:10};if(AKPAnalytics&&r.data){return t.extend(r.data,{cm_video_id:i}),e.on("playing",function(e){var t=100*this.currentTime()/this.duration();n.started?n.ended?(n.ended=!1,AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_click","restart",r.data)):t>0&&n.paused&&AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_click","resume",r.data):(n.started=!0,this.controlBar.durationDisplay.updateContent(),AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_click","start",r.data)),n.paused=!1}),e.on("pause",function(e){100*this.currentTime()/this.duration()<=100&&(n.paused=!0,AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_click","pause",r.data))}),e.on("timeupdate",function(e){var t=100*this.currentTime()/this.duration();if(this.paused()){var i=10*Math.floor(t/10);n.progress=Math.max(n.progress,i)}else t>n.progress&&n.progress<100&&(AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_view",n.progress+"%",r.data),n.progress+=10)}),e.on("ended",function(e){n.ended||(n.ended=!0,AKPAnalytics.logWithTracking(r.appId,r.server,r.ADPData,"video_view","100%",r.data))}),e}}).fail(function(e){var r=t(document.createElement("div"));r.text("Error loading video source."),r.css({fontStyle:"italic",position:"absolute",left:"0",right:"0",top:"0",bottom:"0",padding:"16px",color:"#fff",cursor:"default",backgroundColor:"rgba(0,0,0,0.64)"}),r.appendTo(n)})},initHTML5Video:function(r,i,n){var a=AKPVideoPlayerHelper.VIDEOS_BASE_PATH,o=AKPVideoPlayerHelper.util.isEmbeddedHelp()&&AKPVideoPlayerHelper.util.getChromeVersion()<45,d=document.createElement("div"),l=parseInt(r.style.width,10)||i.getAttribute("width"),s=parseInt(r.style.height,10)||i.getAttribute("height");l&&s?(d.style.paddingTop=s/l*100+"%",r.style.maxWidth=l+"px",r.style.width=null,r.style.height=null):(d.style.paddingTop="56.25%",r.style.maxWidth="800px");var c={};return["loadedmetadata","canplay","canplaythrough"].forEach(function(e){i.__promisedEvents?c[e]=i.__promisedEvents[e]:(c[e]=t.Deferred(),i.addEventListener(e,function(t){c[e].resolve(t)},!1))}),i.addEventListener("loadedmetadata",function(){d.style.paddingTop=i.videoHeight/i.videoWidth*100+"%",!l&&!s&&i.videoWidth<800&&(r.style.maxWidth=i.videoWidth+"px")},!1),r.setAttribute("class","caas_player vjs_caas_player"),r.appendChild(d),t.when(t.ajax({url:a+n+"/data.json",dataType:"json"}).then(function(e){return e},function(){return t.Deferred().resolve({})}),AKPVideoPlayerHelper.util.loadPlayerPlugin()).then(function(d){var l=t.Deferred();return d.captionLangs&&d.captionLangs.length&&d.captionLangs.forEach(function(e){AKPVideoPlayerHelper.dom.addTextTrack(i,e,a+n+"/"+e+".vtt")}),r.appendChild(i),e.videojsalt&&(i.removeAttribute("controls"),videojsalt(i,{techOrder:["html5"],controls:!0,html5:{nativeTextTracks:!1},controlBar:{remainingTimeDisplay:!1,fullscreenToggle:!o,volumeMenuButton:{inline:!1,vertical:!0}}},function(){var e=this;if(this.error())l.reject(e);else{var r=this.textTracks();r&&(Array.prototype.slice.apply(r).forEach(function(e){e.mode="disabled"}),this.textTracks().trigger({type:"change",target:r,currentTarget:r,srcElement:r})),this.on("ended",function(){var e=function(){100*this.currentTime()/this.duration()<100?this.removeClass("vjsalt-ended"):this.one("timeupdate",e)};this.one("timeupdate",e)}),c.canplay.done(l.resolve.bind(null,e)),c.canplaythrough.done(l.resolve.bind(null,e)),c.loadedmetadata.done(l.resolve.bind(null,e));var n=i.querySelector("source:last-of-type");n&&(n.__promisedError?n.__promisedError.done(l.reject.bind(null,e)):n.addEventListener("error",l.reject.bind(null,e),!1)),this.on("error",l.reject.bind(null,e)),i.networkState===i.NETWORK_IDLE&&l.resolve(e),i.networkState===i.NETWORK_NO_SOURCE&&t.ajax({url:n.getAttribute("src"),type:"HEAD"}).fail(function(){l.reject(e)})}})),l})}}}(window,jQuery);;
(function($) {
  Drupal.behaviors.adsk_products_settings = {
    attach: function(context, settings) {
      // Set pName & pCode when visiting large product page. These values are stored in sessionStorage and are used
      // to configure various areas in contact us (like pre-selecting the users most recently viewed product) etc
      if (typeof Drupal.settings.pCode !== 'undefined' && Drupal.settings.pCode !== 'undefined' && Drupal.settings.pCode !== '') {
        sessionStorage.setItem("pCode", Drupal.settings.pCode);
      }
      if (typeof Drupal.settings.pName !== 'undefined' && Drupal.settings.pName !== 'undefined' && Drupal.settings.pName !== '') {
        sessionStorage.setItem("pName", Drupal.settings.pName);
      }
    }
  };
})(jQuery);
;
