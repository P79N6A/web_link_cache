pc.add("tab",function(b){var a=function(c){this.config=pc.extend(c,a.config,false);this.init()};a.config={effect:"base",isIpad:typeof(window.ontouchstart)!=="undefined",direction:"x",autoPlay:false,playTo:0,type:"mouseover",curClass:"current",link:false,stay:2000,delay:200,lazy:false,merge:false,animateTime:300,easing:"swing",oninit:function(){},onchange:function(){}};a.prototype={init:function(){var e=this,k=e.config;if(!k.target.length||k.target.length<=1){return}e.target=k.target;e.length=k.target.length;e.effect=a.effect[k.effect];e.wrap=k.target[0].parentNode;if(/(:?ul|ol|dl)/i.test(e.wrap.tagName)){e.content=e.wrap;e.wrap=e.wrap.parentNode}else{var j=pc.create("div",{className:"tabContent"});pc.each(k.target,function(c){j.appendChild(c)});e.content=e.wrap.appendChild(j)}if(k.control!==false){k.control=k.control||pc.getElems(".control",e.wrap);if(!k.control||k.control.length<1){var g=pc.create("ul",{className:"control"}),h="";for(var f=0;f<e.length;f++){h+='<li><a href="#">'+(f+1)+"</a></li>"}g.innerHTML=h;g=e.wrap.appendChild(g);k.control=pc.childElems(g)}var d=[];pc.each(k.control,function(l,c){if(pc.hasClass(l,"next")){e.nextBtn=l}else{if(pc.hasClass(l,"prev")){e.prevBtn=l}else{d.push(l)}}});e.control=d}if(k.nextBtn){e.nextBtn=k.nextBtn}if(k.prevBtn){e.prevBtn=k.prevBtn}k.oninit.call(e);if(e.effect){e.effect.oninit.call(e)}e.playTo(k.playTo);if(k.autoPlay){e.play()}e.attach()},attach:function(){var f=this,h=f.config;if(h.autoPlay){var e=[f.wrap],d=f.control&&f.control[0].parentNode;if(d){e.push(d)}pc.each(e,function(c){pc.addEvent(c,"mouseover",function(i){f.stop()});pc.addEvent(c,"mouseout",function(i){f.play()})})}if(h.effect==="slide"&&h.isIpad){pc.each(f.target,function(c){c.addEventListener("touchstart",function(i){f.stop();f.iPadDistance=(h.direction==="x"?i.touches[0].pageX:i.touches[0].pageY);f.srcScrollNum=f.contentWrap[f.prop]},false);c.addEventListener("touchmove",function(j){f.iPadLastDistance=(h.direction==="x"?j.touches[0].pageX:j.touches[0].pageY);var i=f.iPadLastDistance-f.iPadDistance;f.contentWrap[f.prop]=f.srcScrollNum-i;j.preventDefault()},false);c.addEventListener("touchend",function(k){if(f.iPadLastDistance===undefined){return}var l=f.iPadLastDistance-f.iPadDistance>0?false:true;var i=f.curPage===0,j=f.curPage===f.length-1;if(l&&(f.config.merge||!j)){f.next()}else{if(!l&&(f.config.merge||!i)){f.prev()}}f.play();k.preventDefault();f.iPadLastDistance=undefined},false)})}var g=h.type=="mouseover";if(h.control){pc.each(f.control,function(j,c){pc.addEvent(j,h.type,function(){var i=g?h.delay:0;if(f.delayTimer){window.clearTimeout(f.delayTimer)}f.delayTimer=window.setTimeout(function(){f.playTo(c)},i)});if(g){pc.addEvent(j,"mouseout",function(){if(f.delayTimer){window.clearTimeout(f.delayTimer)}});pc.addEvent(j,"click",function(){f.playTo(c)})}if(!f.config.link){pc.addEvent(j,"click",function(i){i.preventDefault()})}})}if(f.nextBtn){pc.addEvent(f.nextBtn,"click",function(c){f.next();c.preventDefault()})}if(f.prevBtn){pc.addEvent(f.prevBtn,"click",function(c){f.prev();c.preventDefault()})}},playTo:function(j){var m=this,k=m.config,h=m.curPage!==window.undefined,i;if(h&&m.curPage===j){return}m.prevPage=m.curPage;if(k.effect=="slide"&&k.merge){i=g(m.curPage);m.curPage=j;j=g(j)}else{i=m.curPage;j=m.curPage=g(j)}if(m.control&&j!==i){var d=m.control[j],l=m.control[i];if(d){pc.addClass(d,m.config.curClass)}if(l){pc.removeClass(l,m.config.curClass)}}if(k.lazy){var e=m.curPage;if(k.merge&&e<0){e=m.target.length-1}var f=m.target[e];if(f&&!f.parsed){m._lazyload(f)}}if(m.effect){m.effect.onchange.call(m)}m.config.onchange.call(m,j);function g(n){if(n>=m.length){n%=m.length}if(n<0){var c=n%m.length;n=c===0?0:(c+m.length)}return n}},next:function(){this.playTo(this.curPage+1)},prev:function(){this.playTo(this.curPage-1)},play:function(){var d=this,e=d.config;if(d.timer){d.stop()}d.timer=window.setInterval(function(){var c=d.curPage+1;d.playTo(c)},e.stay)},stop:function(){window.clearInterval(this.timer)},_lazyload:function(d){var c=pc.getElem("textarea",d);if(c){d.innerHTML=c.value;d.parsed=true}}};a.effect={};return a}(pc));pc.extend(pc.tab.effect,{base:{oninit:function(){var a=this,b=a.config;pc.each(a.target,function(c){if(a.target[b.playTo]!=c){pc.setStyle(c,"display","none")}})},onchange:function(){var b=this,a=b.prevPage===window.undefined?null:b.target[b.prevPage],c=b.target[b.curPage];if(a){pc.setStyle(a,"display","none")}pc.setStyle(c,"display","block")}},fade:{oninit:function(){var a=this,b=a.config;pc.setStyle(a.content,"position","relative");pc.each(a.target,function(d,c){pc.setData(d,"index",c);pc.setStyle(d,{opacity:0,position:"absolute",zIndex:c})})},onchange:function(){var b=this,a=b.prevPage===window.undefined?null:b.target[b.prevPage],c=b.target[b.curPage];if(a){pc.setStyle(a,"zIndex",pc.getData(c,"index"))}pc.setStyle(c,"zIndex",b.length);pc.setStyle(c,"opacity",0);pc.show(c,b.config.animateTime,function(){pc.each(b.target,function(d){if(d!=c){pc.setStyle(d,"opacity",0)}})});if(a){pc.hide(a,b.config.animateTime)
}pc.each(b.target,function(d){if(d!=c){pc.end(d)}})}},slide:{oninit:function(){var a=this,g=a.config;var f=a.target[g.playTo];var e=pc.create("div",{className:"contentWrap"});pc.setStyle(e,{overflow:"hidden",position:"relative"});e.appendChild(a.content);a.contentWrap=a.wrap.appendChild(e);pc.setStyle(a.wrap,"overflow","hidden");if(pc.browser.ie){pc.setStyle(a.contentWrap,"zoom","1")}var b=function(c){return parseFloat(pc.getStyle(f,c))||0};if(g.direction=="x"){a.prop="scrollLeft";a.boxProp="width";a.step=g.width||f.offsetWidth+b("marginLeft")+b("marginRight")}else{a.prop="scrollTop";a.boxProp="height";a.step=g.height||f.offsetHeight+b("marginTop")+b("marginBottom")}pc.setStyle(a.contentWrap,a.boxProp,"100%");a.showNum=Math.floor(parseFloat(pc.getStyle(a.wrap,a.boxProp))/a.step);if(g.merge){a.showNum=Math.ceil(parseFloat(pc.getStyle(a.wrap,a.boxProp))/a.step);var d=[];pc.each(a.target,function(c){var h=c.cloneNode(true);h=a.content.appendChild(h);pc.cloneEvent(c,h);d.push(h)});a.target=g.target.concat(d);a.plus=0}if(g.direction=="x"){pc.setStyle(a.content,"width",(g.totalWidth||a.step*a.target.length)+"px");pc.each(a.target,function(c){pc.setStyle(c,"float","left")})}},onchange:function(){var m=this,h=m.config,k=m.prevPage===window.undefined?0:m.prevPage,l=m.curPage,j;merge:if(h.merge){var g=l-k,f=Math.abs(g);if(m.realCurPage===undefined){m.realCurPage=l;m.realPrevPage=k}if(g===0){break merge}if(g<0){if(l>m.showNum&&m.realCurPage>0){m.realPrevPage=m.realCurPage;m.realCurPage--}else{m.realPrevPage=1;m.realCurPage=0}if(l>=m.plus){break merge}for(var e=0;e<f;e++){var b=m.target.pop();pc.prependChild(m.content,b);m.target.unshift(b)}}else{if(g>0){if(l<=m.target.length+m.plus-m.showNum){var d=m.realCurPage;m.realCurPage=m.plus==0?l:m.realCurPage+1;m.realPrevPage=d;break merge}m.realCurPage=m.target.length-m.showNum;m.realPrevPage=m.realCurPage-1;for(var e=0;e<f;e++){var b=m.target.shift();m.content.appendChild(b);m.target.push(b)}}}m.plus+=g;m.contentWrap[m.prop]-=g*m.step}if(h.merge){j=(l-m.plus)*m.step}else{if(l+m.showNum>m.length){l=m.length-m.showNum}j=l*m.step}var a={};a[m.prop]=j;pc.end(m.contentWrap);pc.animate(m.contentWrap,a,m.config.animateTime,m.config.easing);if(h.merge){pc.each(m.target,function(c){pc.removeClass(c,h.curClass)});pc.addClass(m.target[m.realCurPage],h.curClass)}}}});var focus=pc.tab.focus=function(a){return new pc.tab(pc.merge(focus.config,a))};focus.prototype=pc.tab.prototype;focus.config={autoPlay:true,effect:"fade"};var marquee=pc.tab.marquee=function(a){return new pc.tab(pc.merge(marquee.config,a))};marquee.prototype=pc.tab.prototype;marquee.config={effect:"slide",easing:"linear",merge:"true",control:false,direction:"y",autoPlay:true};var tabScroll=pc.tab.scroll=function(a){return new pc.tab(pc.merge(tabScroll.config,a))};tabScroll.prototype=pc.tab.prototype;tabScroll.config={effect:"slide",merge:"true",control:false};